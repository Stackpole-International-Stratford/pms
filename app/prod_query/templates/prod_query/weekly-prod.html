{% extends "base.html" %}

{% block extra_styles %}
    {% include "prod_query/weekly_prod_style.html" %}
{% endblock %}

{% block content %}
    <form id="hiddendate_form" action="" method="POST">
        {% csrf_token %}
        <table id="report-table" class="table table-striped table-hover table-borderless">
            <thead >
                <tr>
                    <th colspan="25" id="table_heading"><h3>Weekly Production</h3></th>
                </tr>
                <tr id="header-row-2">
                    <th rowspan="2" id="h-part" class="subheading h-bottom">Part</th>
                    {% for day in dates %}
                        <th colspan="3" class="h-date subheading">{{ day }}</th>
                    {% endfor %}
                    <th rowspan="2" id="h-total" class="h-bottom subheading">Week Total</th>
                    <th rowspan="2" id="h-predicted" class="h-bottom subheading">Predicted Final</th>
                    <th rowspan="2" id="h-difference" class="h-bottom subheading">Rel to Goal</th>
                </tr>    
                <tr id="header-row-3">
                    {% for day in dates %}
                        <th class="h-shift-mid subheading h-bottom">Mid</th>
                        <th class="h-shift-day subheading h-bottom">Day</th>
                        <th class="h-shift-aft subheading h-bottom">Aft</th>
                    {% endfor %}
                </tr>    
            </thead>
            {% for row in rows %}
                <tr>
                    {% for cell in row %}
                        <td>{{cell}}</td>
                    {% endfor %}
                </tr>
            {% endfor %}    
        </table>
        <button class="btn btn-outline-secondary" type="submit" name="prev">Previous Week</button>
        <button class="btn btn-outline-secondary" type="submit" name="current">Current Week</button>
        {{ form }}
        <button class="btn btn-outline-secondary" type="submit" name="specific">Set to specfic week</button>
    </form>
{% endblock %}

{% block extra_js %}
    {% include "prod_query/weekly_prod_script.html" %}
{% endblock %}