{% extends "base.html" %}

{% block extra_styles %}
{% endblock %}

{% block content %}
    <form method="post">
        {% csrf_token %}
            <table>
                {{ form.as_table }}
            </table>
            <div style="margin-bottom: 2px;">Note: Only accepts a single machine at a time</div>
        <input type="submit" value="Submit">
    </form>
    {% if result %}
        <h4 style="margin-top: 5px;">For machine: {{ machine }}</h4>
        <div>The ordinary cycle time is: {{ trimmed }} seconds</div>
        <div>* The mean of all cycles excluding the top/bottom {{ excluded }}</div>
        <div>Approximately {{ microstoppage }} minutes lost to micro-stoppages</div>
        <div>* The sum of cycle times above the ordinary cycle time and below the downtime threshold then subtracted by the ordinary cycle time</div>
        <div>Approximately {{ downtime }} minutes of downtime</div>
        <div>* Cycle times that are more than {{ factor }} times that of the ordinary cycle time</div>
        <table class="table">
            <th scope="col">Cycle time in seconds</th>
            <th scope="col">Number of occurences</th>    
            {% for res in result %}
                <div class="d-inline list-group-item vertical-align d-flex justify-content-between align-items-center" >
                    <tr>
                        <td>{{ res.0 }}</td>
                        <td>{{ res.1 }}</td>
                    </tr>
                </div>
            {% endfor %}
        </table>
        <div style="margin-bottom: 10px;">
            {{ time }}
        </div>
    {% endif %}
    {% if empty %}
        <div>No data</div>
    {% endif %}
{% endblock %}

{% block extra_js %}
{% endblock %}