
<script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.min.js"></script>



{% load static %}
{% load django_bootstrap5 %}
{% bootstrap_css %}
{% include "prod_query/weekly_prod_style.html" %}
{{ laser_form.media }}
<form method="post">
    {% csrf_token %}
    <p>Dates should be in Year-Month-Day Hour:Minute format</p>
    <div style="display: flex; justify-content: space-around;">
      
      <div>
      <label>Asset</label></br>
      {{ laser_form.asset_number }}
      </div>
  
      <div>
      <label>time period start</label></br>
      {{ laser_form.time_start }}
      </div>

      <div>
      <label>time period end</label></br>
      {{ laser_form.time_end }}
      </div>
  
      
      
      
    </div>
    
    
  
    <input type="submit" value="Submit">
  </form>



  <table class="table table-striped table-hover table-borderless"  name="mytab" id="mytab1">
    <tr>
      <th class="h-bottom subheading">part number</th>
      <th class="h-bottom subheading">A</th>
      
      <th class="h-bottom subheading">B</th>
      
      <th class="h-bottom subheading">C</th>
      
      <th class="h-bottom subheading">D</th>
      
      <th class="h-bottom subheading">E</th>
      
      <th class="h-bottom subheading">F</th>
      
    </tr>
    
        {% for row in rows %}
        <tr>
            {% for cell in row %}
            <td class="d-part d-bottom">{{cell}}</td>
            
            {% endfor %}
            

                

        </tr>
            
            

        {% endfor %}
            
      
      
    
  </table>
  
  
  <script>
    var table = document.getElementById("mytab1");
    const hide_list = [false, false, false, false, false, false]
    
    for (var i = 0, row; row = table.rows[i]; i++) {
      if (i == 0){
        //first row is not important, skip
      }
      else {
        for (var x = 0; x<row.cells.length;x++){
          if (x == 0){
            //skip
          }
          else {
            //if there is one non-zero value in a column
            //do not mark it for hiding
            if (row.cells[x].innerText == '0% (0 pcs)'){
              //minus one since we don't count the first row
              if (hide_list[x-1] == false){
                hide_list[x-1] = true
              }
            }
            else {
              hide_list[x-1] = false
            }
              
              
              
            
          }
          
        }
      }
      
   //iterate through rows
      
      
      
      
   //rows would be accessed using the "row" variable assigned in the for loop
   
     
     //columns would be accessed using the "col" variable assigned in the for loop
   }  


   //go through hide_list. If any columns are marked 'true' then hide them
   //because they are all zeroes
  
   for (var i = 0, row; row = table.rows[i]; i++) {
      
        for (var x = 0; x<row.cells.length;x++){
          
            //if there is one non-zero value in a column
            //do not mark it for hiding
            if (hide_list[x] == true){
              
              row.cells[x+1].style.visibility = 'hidden'
            }
            
              
              
              
            
          
          
        
      }
    }


  </script>